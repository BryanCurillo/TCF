<!DOCTYPE html>
<html lang="en">

<app-headers></app-headers>

<div class="box">

    <div class="content">

        <img src="assets/img/banner2.jpg" width="100%" height="100%" alt="Italy / Urban / Street / City">

        <div class="text3">"El futuro no es</div>
        <div class="text4">desechable"</div>

    </div>
</div>

<body>

    <div class="container">
        <h1 data-text="Productos "></h1>
        <section class="layout">
            <ng-container *ngFor="let publicacion of publicaciones">
                <div *ngIf="publicacion.pubTipo=='Venta'">
                    <div class="card">
                        <div class="icon">
                            <img src={{publicacion.pubIdProducto.fileName}} width="100px">
                        </div>
                        <strong>{{publicacion.pubIdProducto.prodNombre}}
                        </strong>
                        <div class="card__body">
                            {{publicacion.pubDescripcion}}
                        </div>
                        <div class="card__body">
                            Precio $:{{publicacion.pubIdProducto.prodPrecio}}
                            
                        </div>
                        
                        <button type="button" name="button" (click)="verProducto(publicacion.pubId)" >Ver Producto</button>
                        
                    </div>
                </div>

            </ng-container>

        </section>
    </div>

</body>
<app-footer></app-footer>

</html>



<script>

    let preveiwContainer = document.querySelector('.products-preview');
    let previewBox = preveiwContainer.querySelectorAll('.preview');

    document.querySelectorAll('.products-container .product').forEach(product => {
        product.onclick = () => {
            preveiwContainer.style.display = 'flex';
            let name = product.getAttribute('data-name');
            previewBox.forEach(preview => {
                let target = preview.getAttribute('data-target');
                if (name == target) {
                    preview.classList.add('active');
                }
            });
        };
    });

    previewBox.forEach(close => {
        close.querySelector('.fa-times').onclick = () => {
            close.classList.remove('active');
            preveiwContainer.style.display = 'none';
        };
    });
</script>